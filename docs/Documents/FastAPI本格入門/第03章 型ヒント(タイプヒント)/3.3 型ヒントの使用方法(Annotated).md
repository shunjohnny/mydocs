---
title: 3.3 型ヒントの使用方法(Annotated)
tags:
  - FastAPI
---

## 3-3-1 Annotatedとは？

|Annotated|
|---|
|型ヒントに追加情報を付け加えることができる機能|

下記のようにemailが「str」という情報以外に、  
「有効なめーるアドレスの必要がある」という情報が追加されている

```python title="Annotatedの使用例"
from typing import Annotated
def process_email(email: Annotated[str, "有効なメールアドレスの必要がある"])
```

<br>

## 3-3-2 Annotated型を使用するプログラムの作成

Annotated型の使用例を以下に示す

```python title="Annotatedの使用例 入力値が範囲ないか確認するプログラム"
from typing import Annotated

def process_value(
    value: Annotated[int, "範囲: 0 <= value <= 100"]
    ) -> None:
    
    if 0 <= value <= 100:
        print(f"受け取った値は範囲内です: {value}")
    else:
        raise ValueError(f"範囲外の値です。受け取った値: {value}")
    
process_value(50)

try:
    process_value(150)
except ValueError as e:
    print(e)
```


```bash title="実行結果"
受け取った値は範囲内です: 50
範囲外の値です。受け取った値: 150
```