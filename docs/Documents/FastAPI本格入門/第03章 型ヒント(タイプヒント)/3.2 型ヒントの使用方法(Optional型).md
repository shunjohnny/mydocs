---
title: 3.2 型ヒントの使用方法(Optional型)
tags:
  - FastAPI
---

## 3-2-1 Optional型とは

|Optional型|
|---|
|値がNoneになる可能性がある型を明示的に示すために使用|

```python title="Optional型の使用例"
from typing import Optional
def function_name(parameter: Optional[int] = None) -> Optional[int]
```

引数と戻り値で表記の方法が異なるがこれは下記のようなニュアンスの違いがある

|Optional[int] = None|Optional[int]|
|---|---|
|渡すデータがNoneでもOK|関数の結果がNoneになる可能性がある|

<br>

## 3-2-2 Optional型を使用するプログラムの作成

Optional型の使用例を以下に示す

```python title="Optional型の使用例"
from typing import Optional

def get_profile(
        email: str,
        username: Optional[str] = None,
        age: Optional[str] = None
    ) -> dict:
    profile = {"email": email}
    if username:
        profile["username"] = username
    if age:
        profile["age"] = age
    return profile

print(get_profile(email="user@example.com"))
print(get_profile(email="user@example.com", username="元太", age=30))
```

```bash title="実行結果"
{'email': 'user@example.com'}
{'email': 'user@example.com', 'username': '元太', 'age': 30}
```