---
title: 3.1 Reactベースのコンポーネント
tags:
  - Next.js
---

## Next.jsのページとコンポーネント構成
| ファイル名       | 説明                                           |
|------------------|----------------------------------------------|
| layout.tsx     | ページ全体のレイアウトを作成するもの           |
| page.tsx      | トップページで表示するコンテンツ               |
| globals.css    | アプリケーション全体に適用されるスタイルシートを記述する |

### page.tsxを作成する

page.tsxにもとから記入されているものをシンプルに書き換える

```typescript title="src/app/page.tsx"
export default function Home() {
  return (
    <main>
      <h1>Next.js sample.</h1>
      <p>This is sample application.</p>
    </main>
  )
}
```

### 背景を白にする

grobals.cssの説明をする
初期で入っているものは、ユーザーが使用してるテーマによって、  
テーマカラーをライトorダークで変更するというもの

```css title=""
@tailwind base;                 /*リセットや標準的なスタイルを設定し、基本的なスタイルを使用可能に*/
@tailwind components;           /*Tailwindのコンポーネントスタイルを利用*/
@tailwind utilities;            /*最も頻繁に使用されるユーティリティクラスを追加*/

:root {
  --background: #ffffff;        /* ライトテーマ用の背景色 */
  --foreground: #171717;        /* テキストや前景色 */
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;      /* ダークテーマ用の背景色 */
    --foreground: #ededed;      /* ダークテーマ用のテキストや前景色 */
  }
}


body {
  color: var(--foreground);                  /* テキスト色 */
  background: var(--background);             /* 背景色 */
  font-family: Arial, Helvetica, sans-serif; /* フォント設定 */
}
```

<br>

## fontと余白を調整する

TailwindCSSというフレームワークのクラスを使用してfontと余白を調整する

```typescript title="src/app/page.tsx tailwindCSSの使用例"
export default function Home() {
  return (
    <main>
      <h1 className="text-2xl m-5">Next.js sample.</h1>
      <p className="text-lg m-5">This is sample application.</p>
    </main>
  )
}
```

text-2xl, text-lg：フォントサイズ  
m-5：周囲の余白の幅  

<br>

## TailwindCSSの主なクラス
[別ページに記載](TailwindCSSの主なクラス.md)

<br>

## フォームを利用する

Reactベースのコンポーネントを作成して、使用してみる  

```typescript title="src/app/page.tsx"
'use client'

import { useState } from 'react'

export default function Home() {
  var [input, setInput] = useState("")
  var [message, setMessage] = useState("your name:")

  const doChange = (event) => {
    setInput(event.target.value)
  }
  const doClick = () => {
    setMessage("Hello,"+ input +"!!")
    setInput("")
  }

  return(
    <main>
      <h1 className="text-2xl m-5 text-red-500">Next.js sample.</h1>
      <p className="text-lg m-5">{message}</p>
      <div className="m-5">
        <input type="text" onChange={doChange} value={input}
          className="p-1 border-solid border-2 border-gray-400"/>
        <button onClick = {doClick}
          className="px-7 py-2 mx-2 bg-blue-800 text-white rounded-lg">
          Click</button>
      </div>
    </main>
  )
}
```

<figure markdown="span">
  ![alt text](<../../../images/3.1 Reactベースのコンポーネント/3.1 Reactベースのコンポーネント_J0133291.png>){width=400}
  <figconfig>実行結果</figconfig>
</figure>

## クラスを定義する

上記の方法だとclassNameの後に色々記入しなければならない  
これだと面倒なので、global.cssにてクラスを定義することで解決する  
下記内容を追記する  

```css title="src/app/global.css クラスの定義"
.title {
  @apply text-2xl m-5 text-red-500;
}
.msg {
  @apply text-lg m-5 text-gray-900;
}
.input {
  @apply p-1 border-solid border-2 border-gray-400 rounded-sm;
}
.btn {
  @apply px-7 py-2 mx-2 bg-blue-800 text-white rounded-lg;
}
```

このようにglobal.cssに追記することで、  
先ほどのpage.tsxがシンプルに書くことができる。 


```typescript title="src/app/page.tsx"
'use client'

import { useState } from 'react'

export default function Home() {
  var [input, setInput] = useState("")
  var [message, setMessage] = useState("your name:")

  const doChange = (event) => {
    setInput(event.target.value)
  }
  const doClick = () => {
    setMessage("Hello,"+ input +"!!")
    setInput("")
  }

  return(
    <main>
      <h1 className="title">Next.js sample.</h1>
      <p className="msg">{message}</p>
      <div className="m-5">
        <input type="text" onChange={doChange} value={input}
          className="input"/>
        <button onClick={doClick}
          className="btn">Click</button>
      </div>
    </main>
  )
}
```

!!! tips "Tips　「@applyとは？」"
    CSS Custom Prorpertiesと呼ばれるものを利用するために使用。<br>CSSで予め定義されたクラス等を変数のように扱える機能    