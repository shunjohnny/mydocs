---
title: 3.3 スタイルとレイアウト
tags:
  - Next.js
---

## ローカルCSSについて

globals.cssではなくて、各ページに対して作成するとき、
page.tsxと同じディレクトリにcssファイルをおく  
先に作成したotherディレクトリ内にcssファイルを作成し、page.tsxに追記する

```css title="src/app/other/style.css"
.title {
    @apply text-2xl font-bold m-0 p-5 text-white bg-blue-800;
}
.msg {
    @apply text-lg m-5 text-gray-900 text-center;
}
:any-link {
    @apply font-bold text-orange-600;
}
```

```typescript title="src/app/other/page.tsx cssのimport文を追記"
import './style.css'
```

<figure markdown="span">
  ![alt text](<../../../images/3.3 スタイルとレイアウト/3.3 スタイルとレイアウト_J0133291.png>){width=400}
  <figconfig>実行結果</figconfig>
</figure>

<br>

## CSSモジュールについて

モジュールとしてcssを使用したいとき、  
style.modules.cssというようなシートを用意するとモジュールとして使用できる  

style.modules.cssファイルを作成して、

```css title="src/app/other/style.module.css"
.title {
    @apply text-2xl font-bold m-0 p-5 text-white bg-blue-800;
}
.msg {
    @apply text-lg m-5 text-gray-900 text-center;
}
```

page.tsxを書き換える

```typescript title="src/app/other/page.tsx "
import Link from 'next/link'
import Image from 'next/image'
import styles from './style.module.css'

export default function Other() {
    return(
        <main>
            <h1 className={styles.msg}>Other page</h1>
            <p className={styles.title}>これは、別のページです。</p>
            <div>
                <Image src="/sample.jpg" alt="sample img" width={400} height={200}/>
            </div>
            <div>
                <Link href="/">go back!!</Link>
            </div>
        </main>
    )
}
```

<figure markdown="span">
  ![alt text](<../../../images/3.3 スタイルとレイアウト/3.3 スタイルとレイアウト_J0133291-1.png>){width=400}
  <figconfig>実行結果(タイトルとメッセージのスタイルが逆に)</figconfig>
</figure>

!!! tips
    cssモジュールはファイル名が必ず「◯◯.module.css」という名前にする必要有

<br>

## Styled JSXによるスタイル

Styled JSX:Next.jsでJSX内に直接スタイルを書くための仕組み  
`<style>`タグを使って、スタイルを「`」で囲んで記述する  

```typescript title="src/app/other/page.tsx "
'use client'
import Link from 'next/link'
import Image from 'next/image'
import styles from './style.module.css'
import JSXStyle from 'styled-jsx/style'
export default function Other() {
    return (
        <main>
            <JSXStyle>
                {`p.jsx-msg{
                    margin: 10px;
                    text-align:center;
                    color: red;
                    font-weight: bold;
                }`}
            </JSXStyle>
            <h1 className={styles.title}>Other page</h1>
            <p className="jsx-msg">これは、別のページです。</p>
            <div>
                <Image src="/sample.jpg" width={400} height={200} alt="wait..."/>
            </div>
            <div>
                <a href="/">go back!</a>
            </div>
        </main>
    )
}
```
<figure markdown="span">
  ![alt text](<../../../images/3.3 スタイルとレイアウト/3.3 スタイルとレイアウト_J0133291-2.png>){width=400}
  <figconfig>実行結果(メッセージのスタイルをStyled JSXで変更)</figconfig>
</figure>

## layout.tsxのオーバーライド

Next.jsでは、  
通常appフォルダ内のlayout.tsxが全体のレイアウトを定義するが、  
特定のページだけでレイアウトを変更したいときは、  
そのページ専用のlayout.tsxを作成することでオーバーライドが可能  

<figure markdown="span">
  ![alt text](<../../../images/3.3 スタイルとレイアウト/3.3 スタイルとレイアウト_J0133291-3.png>){width=400}
  <figconfig>フォルダ構成</figconfig>
</figure>

layout.tsxを利用してヘッダーとフッターを追加する

```typescript title="src/app/other/page.tsx "
import Link from 'next/link'
import Image from 'next/image'
export default function Other() {
    return (
        <main>
          <h1 className="title">Other page</h1>
          <p className="msg">これは、別のページです。</p>
          <div>
            <Image src="/sample.jpg" width={200} height={200} alt="wait..."/>
          </div>
          <div>
            <a href="/">go back!!</a>
          </div>
        </main>
    )
}
```

```typescript title="src/app/other/layout.tsx "
import './style.css'
export default function OtherLayout({
    children,
}: {
    children: React.ReactNode
}) {
    return (
        <html lang="ja">
            <body>
                <h1 className="header">Sample Web Application</h1>
                {children}
                <div className="footer">
                    <hr/>
                    <p className="footer-content">
                        copyright 2024
                    </p>
                </div>
            </body>
        </html>
    )
}
```

```css title="src/app/other/style.css headerとfooterを追記"
.header {
    @apply text-center text-sm font-bold p-1 text-gray-900;
}
.footer {
    @apply fixed bottom-0 w-full;
}
.footer-content {
    @apply text-sm m-2 text-gray-600;
}
```

<figure markdown="span">
  ![alt text](<../../../images/3.3 スタイルとレイアウト/3.3 スタイルとレイアウト_J0133291-4.png>){width=400}
  <figconfig>実行結果(ヘッダーとフッターが表示されるように)</figconfig>
</figure>
