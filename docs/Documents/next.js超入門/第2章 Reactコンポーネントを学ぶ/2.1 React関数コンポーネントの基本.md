---
title: 2.1 React関数のコンポーネントの基本
tags:
  - Next.js
---

## React アプリケーションを学ぼう

Next.jsは、Reactをベースに作成されているため、Reactについて理解しておくことは重要  

Reactは、Webページの表示を作成するフレームワーク  
「コンポーネント」と呼ばれる部品を定義して組み合わせる    
関数コンポーネントとクラスベースコンポーネントの2種類があるが、    
関数コンポーネントが簡単に作成できるため主流  
```Typescript title="関数コンポーネント"
function 名前() {
    ---処理---
    return 《JSX》
}
```

### シンプルな関数コンポーネント

下記でプロジェクトファイルを作成
```powershell title="Reactプロジェクトの作成"
npx create-react-app sample_react_app
```

src/App.jsを下記のように書き換える

```typescript title="src/App.js Webページに表示されるコンポーネント"
import './App.css'

function App() {
  return (
    <div className="App">
      <h1>React sample.</h1>
      <p>This is sample application.</p>
    </div>
  )
}

export default App
```

書き換えたら下記コマンドをターミナルに打つと、  
このような表示がブラウザ上にたちあがる

```powershell title="Reactプロジェクトの作成"
npm start
```
<figure markdown="span">
  ![alt text](<../../../images/2.1 React関数コンポーネントの基本/2.1 React関数コンポーネントの基本_J0133291.png>){width="300"}
  <figconfig>実行結果</figconfig>
</figure>

!!! tips
    ReactやNext.jsはnpm start等で実行したら、書き換えの度に立ち上げ直さずともリアルタイムで更新されるため、<br>再起動の必要はない

<br>

## 値の埋め込み

JSXでは{}を使用することで、事前に用意していた変数や定数等を埋め込むことができる  
先ほどのApp.jsファイルを下記のように書き換えて実例を示す  
{msg}が埋め込まれている事が分かる

```typescript title="src/App.js 値の埋め込み"
import './App.css'

function App() {
  const msg = "これはサンプルのメッセージです。"
  return (
    <div className="App">
      <h1>React sample.</h1>
      <p>This is sample application.</p>
      <div>{msg}</div> 
    </div>
  )
}

export default App
```

<figure markdown="span">
  ![alt text](<../../../images/2.1 React関数コンポーネントの基本/2.1 React関数コンポーネントの基本_J0133291-1.png>){width="300"}
  <figconfig>実行結果</figconfig>
</figure>

## コンポーネントの引数と属性

|属性(props)(プロパティの略)|
|---|
|親コンポーネントから子コンポーネントへデータを渡す仕組み|

### Appコンポーネントで属性を使う

一部を下記のように書き換える。  
Appの後ろの「title="Hello!" message="これは属性の値です。"」が追記したもので、    
これが属性に該当  

```typescript title="src/index.js の一部"
root.render(
  <React.StrictMode>
    <App title="Hello!" message="これは属性の値です。"/>
  </React.StrictMode>
);
```

次にApp.jsに関して、下記のようにAppコンポーネントの中身を書き換える  
このpropsの中に上記の「title="Hello!" message="これは属性の値です。"」が入っている  
(propsはこれ以外の任意の文字でもOK)

```typescript title="src/App.js"
import './App.css'

function App(props) {
  return (
    <div className="App">
      <h1>{props.title}</h1>
      <p>{props.message}</p>
    </div>
  )
}

export default App
```

<figure markdown="span">
  ![alt text](<../../../images/2.1 React関数コンポーネントの基本/2.1 React関数コンポーネントの基本_J0133291-2.png>){width="200"}
  <figconfig>実行結果</figconfig>
</figure>


### 属性の値を設定する

この属性を利用して、cssを使用して文字の色を赤色に変更する  
下記のようにApp.cssに追記する

```css title="src/App.css の一部"
.red {
  color: red;
}
```

index.jsに渡す属性(color="red")を追加

```typescript title="src/index.js の一部"
root.render(
  <React.StrictMode>
    <App color="red" title="Hello!" message="これはcolor=redの表示です。"/>
  </React.StrictMode>
);
```

App.jsに属性を追加(className=`{props.color})

```typescript title="src/App.js"
import './App.css'

function App(props) {
  return (
    <div className="App">
      <h1 className={props.color}>{props.title}</h1>
      <p>{props.message}</p>
    </div>
  )
}

export default App
```

<figure markdown="span">
  ![alt text](<../../../images/2.1 React関数コンポーネントの基本/2.1 React関数コンポーネントの基本_J0133291-3.png>){width="200"}
  <figconfig>実行結果</figconfig>
</figure>

!!! tips
    JSXはHTMLの要素をほとんどそのまま使うことができるが、<br>classはclassNameという名前ではないと使用できない<br>これはJavaScriptにclassという別のキーワードが存在するためである